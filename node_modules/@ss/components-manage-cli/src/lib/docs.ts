import { publishDocsApi } from '@ss/components-manage-tools';
import { checkDocAPI } from '../util/common';
import { extractReleaseInfo } from '../util/release';

export const publishDocs = async (options: any) => {
    options.skipVersion = true;
    options.releaseType = 'docs';
    if (options.skipCheck) {
        options.skipCheckBranch = true;
        options.skipTest = true;
    }
    const dir = process.cwd();
    checkDocAPI(dir);
    const data = await extractReleaseInfo(options);
    data.releaseType = 'docs';
    await publishDocsApi(data);
}