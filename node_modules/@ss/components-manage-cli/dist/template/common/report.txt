const fs = require('fs');
const path = require('path');
const { report } = require('@ss/lx-report');
const templateJSON = path.join(__dirname, 'template.json');
const packageJSON = path.join(__dirname, 'package.json');
if (!fs.existsSync(templateJSON)) {
    console.log('template.json 不存在');
    process.exit(-1);
}

if (!fs.existsSync(packageJSON)) {
    console.log('package.json 不存在');
    process.exit(-1);
}

const { name } = require(packageJSON);
const { id, platform, technology, framework } = require(templateJSON);
report({
    appName: 'mtd',
    cid: 'c_techportal_bx0ecwsa',
    category: 'data_sdk_techportal',
    value: {
        id,
        name,
        platform,
        framework,
        technology
    }
});

