import { mount, createLocalVue } from '@vue/test-utils';
import testComponent from './popper/testComponent.vue';
import popperMixins from '../popper';

const localVue = createLocalVue();
localVue.mixin(popperMixins);

describe('popper mixins test', function () {
  it('create', function () {
    const wrapper = mount(testComponent, {
        localVue,
        propsData: {
            showPopper: true,
        }
    });
    expect(wrapper.find('.mtd-popper-test').exists()).to.true;
    expect(wrapper.find('.mtd-popper').exists()).to.true;
  });
  it('test option placement', function () {
    const wrapper = mount(testComponent, {
      localVue,
      propsData: {
        showPopper: true,
        placement: 'top'
      }
    });
    expect(wrapper.find('.mtd-popper')).to.exist;
    expect(wrapper.props().placement).to.equal('top')
  });
});
