<template>
  <span
    :class="prefix">
    <component :is="tag" v-bind="$attrs" :class="`${breadcrumbPrefix}-inner`"><i
      v-if="icon"
      :class="[`${prefix}-icon`, icon]" /><slot
    /></component><i
      v-if="separatorClass || !separator"
      :class="[
        `${breadcrumbPrefix}-separator`,
      separatorClass || `${getIcon('right-thick')}`]" /><span
        v-else :class="`${breadcrumbPrefix}-separator`">{{ separator }}</span></span>
</template>
<script>
import {
  CONFIG_PROVIDER,
  getPrefixCls,
  getIconCls,
} from '@/utils/config';

export default {
  name: 'MtdBreadcrumbItem',
  inheritAttrs: false,
  props: {
    tag: {
      type: [String, Object],
      default: 'span',
    },
    icon: String,
  },
  inject: {
    breadcrumb: {
      from: 'breadcrumb',
    },
    config: {
      from: CONFIG_PROVIDER,
      default: {
        getPrefixCls,
        getIconCls,
      },
    },
  },
  computed: {
    prefix () {
      return this.config.getPrefixCls('breadcrumb-item');
    },
    breadcrumbPrefix () {
      return this.config.getPrefixCls('breadcrumb');
    },
    getIcon () {
      return this.config.getIconCls;
    },
    separator () {
      return this.breadcrumb.separator;
    },
    separatorClass () {
      return this.breadcrumb.separatorClass;
    },
  },
};
</script>
