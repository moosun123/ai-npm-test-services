<template>
  <div id="dynamic-slot">
    <mtd-carousel>
      <mtd-carousel-item v-for="item in items" :key="item">
        <div :style="itemStyle">
          {{ item }}
        </div>
      </mtd-carousel-item>
    </mtd-carousel>
  </div>
</template>

<script>
/**
 * File description
 * @author zhongjiahao
 * @date   2021/6/10
 */
import Carousel from '../../carousel';
import CarouselItem from '../../carousel-item';
import {
  waitImmediate,
} from '@test/util';

export default {
  name: 'DynamicSlot',
  components: {
    MtdCarousel: Carousel,
    MtdCarouselItem: CarouselItem,
  },
  data () {
    return {
      items: [],
      itemStyle: {
        height: '240px',
        lineHeight: '240px',
        textAlign: 'center',
        color: 'white',
        backgroundColor: '#5D6EAC',
        fontSize: '30px',
        fontWeight: '900',
      },
    };
  },
  methods: {
    async doTest () {
      await waitImmediate();
      this.items = [1, 2, 3, 4];
      await waitImmediate();
      const root = document.getElementById('dynamic-slot');
      const activeDom = root.querySelectorAll('.mtd-carousel-item-active');
      expect(activeDom.length).to.equal(1);
    },
  },
};
</script>

<style scoped>

</style>
