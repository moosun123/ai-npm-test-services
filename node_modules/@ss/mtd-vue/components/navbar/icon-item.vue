<template>
  <navbar-item class="mtd-navbar-icon-item" v-bind="$attrs"
    :visible="visible"
    @update:visible="handleVisibleChange"
    @click="handleClick"
    :route="route"
  >
    <i class="mtd-navbar-icon-item-icon" :class="icon" />
    <template slot="dropdown">
      <slot name="dropdown" />
    </template>
  </navbar-item>
</template>
<script>
import NavbarItem from '@components/navbar-item';

// todo 增加点击空白区域关闭下拉
export default {
  name: 'MtdNavbarIconItem',
  components: {
    NavbarItem,
  },
  inheritAttrs: false,
  props: {
    icon: {
      type: String,
      required: true,
    },
    visible: {
      type: Boolean,
      default: false,
    },
    route: [String, Object],
  },
  methods: {
    handleVisibleChange (v) {
      this.$emit('update:visible', v);
    },
    handleClick (e) {
      this.$emit('click', e);
    },
  },
};
</script>
