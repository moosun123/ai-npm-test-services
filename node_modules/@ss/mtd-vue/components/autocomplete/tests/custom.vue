<template>
<mtd-autocomplete v-model="autoValue"
    @search="handleSearch"
    placeholder="请输入"
    ref="autocomplete">
  <mtd-option v-for="(item, i) in options"
    :key="i"
    :label="item.label"
    :value="item.value" />
</mtd-autocomplete>
</template>
<script>
import MtdAutocomplete from '../autocomplete';
import MtdOption from '../../option';

export default {
  components: {
    MtdAutocomplete,
    MtdOption,
  },
  data () {
    return {
      options: [],
      autoValue: '',
    };
  },
  methods: {
    handleSearch () {
      this.options = this.autoValue.split('').map((value, index) => {
        return {
          label: this.autoValue.slice(0, index + 1),
          value: this.autoValue.slice(0, index + 1),
        };
      });
    },
  },
};
</script>
