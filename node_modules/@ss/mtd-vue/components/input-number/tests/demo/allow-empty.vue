<template>
  <InputNumber v-model="value" ref="input" :allow-empty="allowEmpty" :precision="1" />
</template>
<script>
import InputNumber from '../../index';
import { waitImmediate, setInputValue } from '@test/util';

export default {
  components: {
    InputNumber,
  },
  data () {
    return {
      value: 1,
      allowEmpty: true,
    };
  },
  methods: {
    async doTest () {
      this.value = 1;
      await waitImmediate();

      const input = this.$el.querySelector('input');
      input.focus();
      setInputValue(input, '');
      input.blur();
      await waitImmediate();
      expect(this.value).to.be.eql(null);
    },
  },
};
</script>
