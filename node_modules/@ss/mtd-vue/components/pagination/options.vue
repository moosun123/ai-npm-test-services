<template>
  <mtd-select
    v-bind="selectProps"
    :class="`${prefix}-options`"
    :value="pageSize"
    :size="size"
    @input="handleChange">
    <mtd-option
      v-for="item in pageSizeOptions"
      :key="item"
      :label="item+pagesizeText"
      :value="item" />
  </mtd-select>
</template>

<script>
import MtdSelect from '@components/select';
import MtdOption from '@components/option';
import { CONFIG_PROVIDER,
  getPrefixCls,
} from '@/utils/config';
import Locale from '@/mixins/locale';

export default {
  name: 'PaginationOptions',

  components: {
    MtdSelect,
    MtdOption,
  },
  mixins: [Locale],
  props: {
    pageSizeOptions: Array,
    pageSize: Number,
    size: {
      type: String,
    },
    selectProps: {
      type: Object,
      default () {
        return {};
      },
    },
  },
  inject: {
    config: {
      from: CONFIG_PROVIDER,
      default: {
        getPrefixCls,
      },
    },
  },
  computed: {
    prefix () {
      return this.config.getPrefixCls('pagination');
    },
    pagesizeText () {
      return this.t('el.pagination.pagesize');
    },
  },
  methods: {
    handleChange (val) {
      this.$emit('change', val);
    },
  },
};
</script>
