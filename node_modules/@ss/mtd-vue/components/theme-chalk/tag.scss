@import "./common/var.scss";
@import 'mixins/mixins';
@import 'mixins/tag';
@import "./button.scss";

@include c(tag) {
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
  position: relative;
  vertical-align: middle;
  border: 1px solid;
  transition: all .3s;
  font-size: 0;
  @if $tag-font-weight != inherit {
    font-weight: $tag-font-weight;
  }
  &-clickable{
    cursor: pointer;
  }
  &-content{
    display: inline-block;
    vertical-align: middle;
    text-align: center;
    flex: 1 1 auto;
    @include text-ellipsis;
  }
  &-close {
    flex: 0 0 auto;
    margin-left: 0.5em;
    vertical-align: middle;
    cursor: pointer;
    color: currentColor;
    &-hover-icon {
      display: none;
    }
    &:hover, &.hover {
      .#{$B + '-close-icon'} {
        display: none;
      }
      .#{$B + '-close-hover-icon'} {
        display: inline-block;
      }
    }
  }

  // 颜色的遍历
  &-gray{
    @include tag-color($tag-gray-color, $tag-gray-border-color, $tag-gray-bgc);
    @include tag-pure-color($tag-gray-pure-color, $tag-gray-pure-bgc);
  }
  &-blue{
    @include tag-color($tag-blue-color, $tag-blue-border-color, $tag-blue-bgc);
    @include tag-pure-color($tag-blue-pure-color, $tag-blue-pure-bgc);
  }
  &-green{
    @include tag-color($tag-green-color, $tag-green-border-color, $tag-green-bgc);
    @include tag-pure-color($tag-green-pure-color, $tag-green-pure-bgc);
  }
  &-orange{
    @include tag-color($tag-orange-color, $tag-orange-border-color, $tag-orange-bgc);
    @include tag-pure-color($tag-orange-pure-color, $tag-orange-pure-bgc);
  }
  &-red{
    @include tag-color($tag-red-color, $tag-red-border-color, $tag-red-bgc);
    @include tag-pure-color($tag-red-pure-color, $tag-red-pure-bgc);
  }
  &-purple{
    @include tag-color($tag-purple-color, $tag-purple-border-color, $tag-purple-bgc);
    @include tag-pure-color($tag-purple-pure-color, $tag-purple-pure-bgc);
  }

  &-text{
    color: $color-text-2;
  }
  &-unbordered{
    border-color: transparent!important;
  }
  &-disabled {
    cursor: not-allowed;
    border-color: $tag-disabled-border-color!important;
    background-color: $tag-disabled-bgc!important;
    color: $tag-disabled-color!important;
    opacity: $tag-disabled-opacity;
    .#{$B}-close {
      pointer-events: none;
      color: $tag-disabled-close-color;
    }
  }
  // Size
  // map真的是个好东西啊
  $tag-size-map: (
    small: (
      min-width: $tag-small-min-width,
      max-width: $tag-small-max-width,
      height: $tag-small-height,
      padding: $tag-small-padding,
      font-size: $tag-small-font-size,
      border-radius: $tag-small-border-radius,
      close-margin-left: $tag-small-close-margin-left
    ),
    normal: (
      min-width: $tag-min-width,
      max-width: $tag-max-width,
      height: $tag-height,
      padding: $tag-padding,
      font-size: $tag-font-size,
      border-radius: $tag-border-radius,
      close-margin-left: $tag-close-margin-left
    ),
    large: (
      min-width: $tag-large-min-width,
      max-width: $tag-large-max-width,
      height: $tag-large-height,
      padding: $tag-large-padding,
      font-size: $tag-large-font-size,
      border-radius: $tag-large-border-radius,
      close-margin-left: $tag-large-close-margin-left
    ),
  );
  // 尺寸的遍历
  @each $name, $value in $tag-size-map {
    @if $name == 'normal' {
      @include tag-size(
          map_get($value, font-size),
          map_get($value, min-width),
          map_get($value, max-width),
          map_get($value, height),
          map_get($value, padding),
          map_get($value, border-radius),
          map_get($value, close-margin-left)
        );
    } @else {
      &-#{$name} {
        @include tag-size(
          map_get($value, font-size),
          map_get($value, min-width),
          map_get($value, max-width),
          map_get($value, height),
          map_get($value, padding),
          map_get($value, border-radius),
          map_get($value, close-margin-left)
        );
      }
    }
  }

  &-rounded{
    border-radius: 100px; // larger than tag height
  }
}
