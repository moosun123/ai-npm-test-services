@import "./common/var.scss";
@import "./mixins/mixins.scss";
@import "./mixins/multiple-input.scss";
@import "./tag.scss";

@include c(multiple-input) {
  position: relative;
  border: 1px solid $input-border-color;
  border-radius: $input-border-radius;
  width: 100%;
  text-align: left;
  outline: none;

  &.focus {
    border-color: $input-focus-border-color;
  }

  &-rendered {
    line-height: 1;
    display: block;
    position: relative;

    >* {
      vertical-align: top;
    }

    >.#{$prefix}-tag {
      margin-right: $select-tags-each-spacing;
      max-width: 99%;
      $theme: '.#{$prefix}-tag-'+$select-tag-theme;
      @extend #{$theme};

      @if $select-tag-type {
        $type: '.#{$prefix}-tag-'+$select-tag-type;
        @extend #{$type};
      }

      border-width: 0px;

      &.focus {
        border-width: 1px;
      }
    }
  }

  &-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    padding: 0px;
    max-width: 100%;
    white-space: nowrap;
    text-align: left;
    text-overflow: ellipsis;
    color: $placeholder-color;
  }

  &-field-wrap {
    display: inline-block;
    max-width: 100%;
  }

  &-field {
    width: 0.75em;
    max-width: 99%;
    display: inline-block;
    vertical-align: top;
    border: none;
    outline: none;
    line-height: inherit;
    padding: 0;
    margin: 0;
    font-size: inherit;
    background-color: transparent;
  }

  &-field-mirror {
    position: absolute;
    top: 0;
    left: 0;
    white-space: pre;
    opacity: 0;
    pointer-events: none;
  }

  &-clear {
    cursor: pointer;
  }

  &-prefix-inner,
  &-suffix-inner {
    position: absolute;
    text-align: center;
    top: 0px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: $input-icon-color;
    z-index: 2; // input-group 中 input 的 z-index 为 1
  }

  &-prefix-inner {
    left: 0px;
  }

  &-suffix-inner {
    right: 0px;
  }

  // genre
  &-area {
    color: $input-area-color;
    background-color: $input-area-bgc;
    border: none;
  }

  &-area &-placeholder {
    color: $input-area-placeholder-color;
  }

  &-line {
    background-color: transparent;
    border-width: 0px;
    border-bottom-width: 1px;
    border-radius: 0px;

    &:first-child {
      padding-left: 0px;
    }

    .#{$B} {

      &-prefix-inner,
      &-suffix-inner {
        justify-content: flex-start;
      }
    }
  }

  @include multiple-input-size($font-size-2, $input-height, $input-padding-horizontal, $tag-height);

  // small
  &-small {
    @include multiple-input-size($font-size-1, $input-small-height, $input-small-padding-horizontal, $tag-small-height);
  }

  &-large {
    @include multiple-input-size($font-size-3, $input-large-height, $input-large-padding-horizontal, $tag-large-height);
  }

  // large

  &-invalid {
    border-color: $input-invalid-border-color;
  }

}

@include c(multiple-input-disabled) {
  cursor: not-allowed;
  border-color: $input-disabled-border-color;
  background-color: $input-disabled-bgc;
}