<template>
  <ConfigProvider prefix-cls="xx" icon-prefix-cls="xxicon">
    <Button class="test-config-btn">
      <Icon class="icon" name="search" /> xxx
    </Button>
  </ConfigProvider>
</template>
<script>
import Icon from '@components/icon';
import Button from '@components/button';
import ConfigProvider from '@components/config-provider';

export default {
  components: {
    Icon,
    Button,
    ConfigProvider,
  },
  methods: {
    doTest (done) {
      const el = this.$el.querySelector('.test-config-btn');
      expect(el, 'should mounted button element').to.be.not.eql(null);
      const classes = Array.from(el.classList);
      expect(classes).to.be.include('xx-btn');

      const icon = this.$el.querySelector('.icon');
      expect(icon, 'should has icon').to.be.not.eql(null);
      const iconClasses = Array.from(icon.classList);
      expect(iconClasses).to.be.include('xxicon-search');
      done();
    },
  },
};
</script>
