<template>
  <div>
    <div class="demo-picker-group">
      <p>禁用时间</p>
      <mtd-time-picker
        v-model="value"
        placeholder="选择时间"
        :disabled-hours="[1, 5, 10]"
        :disabled-minutes="testDisabledMinutes"
        :disabled-seconds="testDisabledSeconds"
      />
    </div>

    <div class="demo-picker-group">
      <p>时间范围禁用选择</p>
      <mtd-time-picker
        type="timerange"
        v-model="value2"
        placeholder="选择时间"
        :clearable="true"
        :disabled-hours="[1, 5, 10]"
        :disabled-minutes="testDisabledMinutes"
        :disabled-seconds="testDisabledSeconds"
      />
    </div>
  </div>
</template>
<script>
export default {
  data() {
    return {
      value: undefined,
      value2: [],
    };
  },

  methods: {
    // 以选择的小时为起步，每隔5个单位就不可以选择
    testDisabledMinutes(selectedHour) {
      if (isNaN(selectedHour)) {
        return [];
      }

      const disabledMinutes = [];
      let disabledMinute = selectedHour;
      while (disabledMinute < 60) {
        disabledMinutes.push(disabledMinute);
        disabledMinute = disabledMinute + 5;
      }

      return disabledMinutes;
    },

    // 不能选择和时、分一样的秒
    testDisabledSeconds(selectedHour, selectedMinute) {
      if (isNaN(selectedHour) || isNaN(selectedMinute)) {
        return [];
      }
      const disabledSeconds = [];
      let disabledSecond = 0;
      while (disabledSecond < 60) {
        if (disabledSecond === selectedMinute || disabledSecond === selectedHour) {
          disabledSeconds.push(disabledSecond);
        }
        disabledSecond++;
      }
      return disabledSeconds;
    },
  },
};
</script>
