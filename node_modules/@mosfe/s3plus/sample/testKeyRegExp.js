const path = require('path');
const { cloud } = require('./mss.config.js');
var { accessKeyId, accessKeySecret, endpoint } = require('./config/server.js');
const Client = require('..');
const env = process.env;

async function fn () {
    const cdn = new Client({
        accessKeyId,
        accessKeySecret,
        endpoint,
        bucket: 'testccc',
        deployCatalog: path.join(__dirname, 'dist'),
        keyMap: [
            {
                keyRegExp: /\.html$/,
                options: {
                    headers: {
                        'Cache-Control': 'no-cache'
                    }
                }
            },
            {
                keyRegExp: /test0\.js$/,
                options: {
                    headers: {
                        'Cache-Control': 'max-age=60'
                    }
                }
            },
            'undefined'
        ]
    });
    const file = await cdn.deploy();
    console.log('--file1', file);
}
fn();





/**
 
            {
                keyRegExp: /\.html$/,
                options: {
                    headers: {
                        'Cache-Control': 'no-cache'
                    }
                }
            },
            {
                keyRegExp: /test0\.js$/,
                options: {
                    headers: {
                        'Cache-Control': 'max-age=60'
                    }
                }
            }
         
 */