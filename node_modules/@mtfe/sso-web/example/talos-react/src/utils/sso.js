import SSOWeb from '@mtfe/sso-web';

// process.env.NODE_ENV 取值来源 ../.env.{环境}
const rewriteLocation = process.env.NODE_ENV === "development"
    ? ""
    // 这里假设你的应用发布到talos后,地址为 http://awp.sankuai.com/group/appName/home/index.html
    : "/group/appName/home/index.html"

/**
 * @see 配置参考 http://docs.sankuai.com/doc/it/web-sso-sdk/configuration/
 */
export const ssoOption = {
    clientId: 'test1',
    // 线下(beta,dev,test) 用"test", 线上(product,staging) 用"product"
    accessEnv: ['staging', 'production'].includes(process.env.REACT_APP_ENV) ? "product" : "test",
    rewriteLocation,
    callbackUrl: process.env.NODE_ENV === "development" ? "/#/sso/callback" : "#/sso/callback",
    logoutUri: process.env.NODE_ENV === "development" ? "/#/sso/logout" : "#/sso/logout",
}

const ssoWeb = SSOWeb(ssoOption);
export default ssoWeb;