SSO Web
======

> 因为sso-web创建的业务cookie是非httpOnly的形式，存在一定的安全风险，建议借用后端SDK（nodeSDK、javaSDK）完成登录流程。具体使用示例：[多服务同域名场景 统一后端登录流程](https://km.sankuai.com/page/214813183)

An easy way to get access to sso in browser end.

## SSO-WEB使用注意

1. 前端项目请自行在[开放平台](https://open.sankuai.com)申请接入SSO，需要使用自行申请的clientId
2. 前端SDK不要和后端的SDK（nodeSDK、javaSDK）进行混用，如回调callback地址检查，请确认是前端项目业务的callback回调地址
3. 业务代码须在ssoWeb.login()方法回调之后再加载，不然可能会造成业务代码拦截SDK路由的情况，从而出现无限重定向，具体使用示例：[示例](https://docs.sankuai.com/mt/it/web-sso-sdk/docs/more_access/)

## Install

```bash
npm --registry=http://r.npm.sankuai.com install @mtfe/sso-web@latest --save
```

## Usage

请移步 [文档平台](http://docs.sankuai.com/doc/it/web-sso-sdk/)

### API

请移步 [文档平台](http://docs.sankuai.com/doc/it/web-sso-sdk/apis/)

### FAQ

请移步 [文档平台](http://docs.sankuai.com/doc/it/web-sso-sdk/faq/)

### ChangeLog

**1.1.17**

修复README中ChangeLog的版本错误问题

**1.1.16**

修复sameSite属性的ts类型声明问题

修复ie11下cookie无法写入问题

修复对业务方url会decode处理的问题

**1.1.15**

业务域名下，新增webNewUuid(Web端唯一设备id)的永久cookie，可通过document.cookie获取

**1.1.14**

删除远程配置获取，修正线上外网无法访问的问题

**1.1.13**

解决hash中带有host，造成登录失败的问题，例如请求地址为
```javascript
http://a.com/b#url=a.com/c
```

**1.1.12**

读取远程配置

解决exchange接口415问题

**1.1.11**

添加debug属性，方便进行调试

**1.1.10**

文档中添加对借用后端SDK进行登录流程的方案

**1.1.9**

getLoginPath 方法参数丢失问题修复

**1.1.8**

rewriteLocation 兼容匹配/path/,/path,path/,path 四种模式

**1.1.7**

添加 sameSite 属性，具体详见[配置文档](https://docs.sankuai.com/mt/it/web-sso-sdk/docs/configuration/)

[更多](https://km.sankuai.com/page/70378891)

### 备用文档地址

https://developers.sankuai.com/mt/it/web-sso-sdk/docs/
