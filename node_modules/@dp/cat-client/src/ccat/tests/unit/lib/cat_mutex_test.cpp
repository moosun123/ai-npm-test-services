//
// Created by Terence on 2018/8/1.
//

#include <gtest/gtest.h>

#include "lib/cat_mutex.h"

TEST(Mutex, test) {
    MUTEX mx;
    MUTEX_INIT(mx);
    MUTEX_LOCK(mx);
    MUTEX_UNLOCK(mx);
    MUTEX_DESTROY(mx);
}

TEST(Mutex, testCriticalSection) {
    CatCriticalSection cs = CatCreateCriticalSection();
    CATCS_ENTER(cs);
    CATCS_LEAVE(cs);
    CatDeleteCriticalSection(cs);
}