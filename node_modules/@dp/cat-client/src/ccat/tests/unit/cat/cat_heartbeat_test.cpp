//
// Created by Terence on 2018/9/14.
//

#include <gtest/gtest.h>

#include <cat/client.h>

TEST(Heartbeat, test) {
    CatHeartBeat* h;

    CatTransaction* t = newTransaction("test-heartbeat", "single");

    h = newHeartBeat("foo", "bar-1");
    addHeartbeatDataPair(h, "725");
    setHeartbeatStatus(h, CAT_SUCCESS);
    completeHeartbeat(h);

    t->setComplete((CatMessage*) t);
}
