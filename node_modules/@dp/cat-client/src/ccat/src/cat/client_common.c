#include "cat/client.h"

#include "lib/cat_clog.h"
#include "client_config.h"

volatile int g_cat_enabled = 0;

void catCheckPtrWithName(void *ptr, char *ptrName) {
    if (ptr == NULL) {
        g_config.logger->error("%s 内存申请失败, 当前堆中无可用内存.", ptrName);
        logError("Error", "OutOfMemory");
    }
}

// deprecated.
void catChecktPtrWithName(void *ptr, char *ptrName) {
    g_config.logger->warning("This method has already been deprecated, please using catCheckPtrWithName instead.");
    catCheckPtrWithName(ptr, ptrName);
}

int isCatEnabled() {
    return g_cat_enabled;
}
