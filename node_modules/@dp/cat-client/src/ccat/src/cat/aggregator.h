
#ifndef LOCAL_AGGREGATOR_h__
#define LOCAL_AGGREGATOR_h__

#include <lib/cat_ccmap.h>
#include "message_tree.h"

#include "cat/transaction.h"

void aggregateCatTransaction(CatTransaction* pTransaction);

void aggregateCatMessageTree(CatMessageTree* tree);

void initCatAggregator();

void startCatAggregatorThread();

void destroyCatAggregator();

typedef void (*aggregationDataSender)();

void sendAggregationData(CatCCHashMap* aggregationMap, const char* name, aggregationDataSender sender);

#endif//LOCAL_AGGREGATOR_h__
